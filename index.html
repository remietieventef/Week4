<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corporate Game</title>
    <style>
        body {
            background: url('fond.jpg.png') no-repeat center center fixed;
            background-size: cover;
        }
        .car {
            position: absolute;
            width: 50px;
            transition: transform 1s linear;
        }
        .leaderboard {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 5px;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        .popup input, .popup button {
            margin: 5px;
        }
    </style>
</head>
<body>
    <div id="leaderboard" class="leaderboard">
        <h3>Leaderboard</h3>
        <ul id="leaderboard-list">
        </ul>
    </div>
    <div id="popup" class="popup">
        <h3>Manage Teams</h3>
        <div id="teams-container"></div>
        <button onclick="addTeam()">Add Team</button>
        <button onclick="closePopup()">Close</button>
    </div>
    <script>
        const teams = [];
        const totalPoints = 15000;
        let teamCount = 15;
        const pathPoints = [
            [818, 74], [762, 89], [713, 124], [687, 160], [678, 175],
            [671, 354], [668, 415], [612, 443], [495, 452], [457, 474],
            [433, 506], [419, 522], [422, 529], [409, 736], [390, 735],
            [325, 742], [286, 752], [264, 632], [250, 599], [202, 549],
            [165, 533], [44, 519], [22, 496], [8, 496], [22, 519],
            [149, 541], [188, 555], [240, 607], [255, 643], [283, 765],
            [397, 765], [428, 549], [441, 515], [492, 467], [606, 454],
            [674, 427], [686, 194], [702, 158], [754, 106], [792, 90],
            [1179, 89], [1216, 105], [1270, 157], [1285, 193], [1296, 391],
            [1341, 430], [1713, 422], [1745, 371], [1776, 296], [1819, 388],
            [1804, 432], [1749, 489], [1716, 504], [1318, 503], [1281, 486],
            [1229, 429], [1215, 386], [1204, 195], [1159, 163], [1179, 167],
            [1214, 210], [1224, 407], [1241, 443], [1296, 490], [1339, 504],
            [1731, 495], [1784, 455], [1808, 415], [1816, 383], [1802, 427],
            [1754, 481], [1720, 499], [1320, 499], [1282, 482], [1232, 427],
            [1218, 386], [1206, 191], [1158, 159], [773, 182], [753, 354],
            [741, 452], [695, 506], [662, 521], [524, 533], [494, 574],
            [483, 774], [437, 825], [402, 841], [273, 842], [217, 802],
            [196, 767], [183, 649], [146, 616], [34, 602], [46, 591],
            [44, 556], [163, 549], [196, 566], [241, 619], [255, 737],
            [291, 775], [402, 766], [432, 550], [446, 517], [495, 470],
            [631, 458], [677, 432], [688, 201], [703, 164], [750, 113],
            [788, 95], [1190, 97], [1226, 115], [1272, 169], [1286, 211],
            [1295, 399], [1341, 433], [1711, 427], [1745, 384], [1741, 394],
            [1700, 432], [1326, 427], [1289, 385], [1279, 184], [1261, 150],
            [1209, 104], [1165, 91], [771, 101], [725, 132], [697, 175],
            [688, 299], [657, 449], [522, 461], [483, 477], [441, 525],
            [428, 735], [390, 772], [281, 769], [250, 643], [235, 607],
            [183, 557], [139, 544], [39, 559], [45, 601], [136, 613],
            [181, 646], [195, 763], [211, 795], [267, 840], [396, 842],
            [431, 829], [479, 782], [494, 743], [517, 537], [651, 524],
            [690, 509], [738, 459], [752, 422], [765, 195], [806, 162],
            [798, 169], [761, 210], [752, 440], [733, 475], [680, 520],
            [610, 533], [502, 562], [488, 774], [440, 828], [402, 846],
            [270, 846], [233, 824], [192, 768], [176, 646], [131, 617],
            [33, 608], [9, 630], [2, 644], [12, 661], [45, 647], [81, 626],
            [166, 654], [178, 765], [194, 798], [239, 844], [278, 861],
            [416, 854], [451, 849], [455, 860], [456, 841], [489, 795],
            [500, 777], [511, 572], [531, 548], [641, 552], [685, 530],
            [742, 483], [762, 444], [770, 319], [779, 203], [799, 185],
            [985, 172], [1186, 191], [1202, 226], [1209, 414], [1224, 443],
            [1232, 456], [1262, 486], [1292, 513], [1322, 515], [1722, 514],
            [1759, 497], [1802, 456], [1821, 423], [1834, 345], [1832, 328],
            [1832, 314], [1830, 394], [1816, 433], [1767, 490], [1728, 511],
            [1332, 517], [1289, 503], [1230, 451], [1211, 417], [1200, 213],
            [1161, 176], [799, 180], [768, 244], [768, 423], [754, 463],
            [705, 518], [666, 537], [532, 547], [508, 753], [488, 796],
            [440, 842], [402, 858], [265, 856], [230, 837], [186, 784],
            [171, 729], [147, 635], [40, 632], [19, 650], [96, 615],
            [174, 644], [189, 760], [204, 793], [256, 840], [383, 850],
            [429, 835], [481, 787], [497, 750], [524, 538], [669, 525],
            [707, 504], [747, 452], [758, 297], [787, 176], [1154, 163],
            [1204, 197], [1216, 395], [1231, 433], [1283, 487], [1317, 502],
            [1713, 504], [1751, 489], [1804, 432], [1819, 392], [1856, 279],
            [1805, 261], [1726, 260], [1692, 295], [1708, 307], [1727, 295],
            [1743, 380], [1708, 424], [1337, 428], [1296, 391], [1286, 194],
            [1268, 154], [1217, 105], [1164, 87], [1198, 84], [1232, 101],
            [1283, 158], [1299, 200], [1313, 399], [1441, 398], [1428, 302],
            [1442, 377], [1313, 398], [1329, 404], [1314, 394], [1301, 221],
            [1288, 167], [1257, 122], [1235, 98], [1208, 88]
        ];

        function initTeams() {
            for (let i = 0; i < teamCount; i++) {
                teams.push({ name: `Team ${i + 1}`, points: 0 });
            }
            updateTeams();
            updateLeaderboard();
        }

        function updateTeams() {
            const container = document.getElementById('teams-container');
            container.innerHTML = '';
            teams.forEach((team, index) => {
                container.innerHTML += `
                    <div>
                        <input type="text" value="${team.name}" onchange="renameTeam(${index}, this.value)">
                        <input type="number" value="${team.points}" onchange="updatePoints(${index}, this.value)">
                    </div>
                `;
            });
        }

        function renameTeam(index, name) {
            teams[index].name = name;
            updateLeaderboard();
        }

        function updatePoints(index, points) {
            teams[index].points = parseInt(points);
            moveCar(index);
            updateLeaderboard();
        }

        function addTeam() {
            teams.push({ name: `Team ${teams.length + 1}`, points: 0 });
            updateTeams();
        }

        function moveCar(index) {
            const car = document.getElementById(`car${index}`);
            const percentage = teams[index].points / (totalPoints / teamCount);
            const pathIndex = Math.min(Math.floor(percentage * pathPoints.length), pathPoints.length - 1);
            const position = pathPoints[pathIndex];
            car.style.transform = `translate(${position[0]}px, ${position[1]}px)`;
        }

        function updateLeaderboard() {
            const list = document.getElementById('leaderboard-list');
            const sortedTeams = teams.slice().sort((a, b) => b.points - a.points).slice(0, 5);
            list.innerHTML = '';
            sortedTeams.forEach(team => {
                list.innerHTML += `<li>${team.name}: ${team.points} points</li>`;
            });
        }

        function showPopup() {
            document.getElementById('popup').style.display = 'block';
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
        }

        document.addEventListener('DOMContentLoaded', () => {
            initTeams();
            for (let i = 0; i < teamCount; i++) {
                const car = document.createElement('img');
                car.src = `voiture${i + 1}.png`;
                car.id = `car${i}`;
                car.className = 'car';
                car.style.transform = `translate(${pathPoints[0][0]}px, ${pathPoints[0][1]}px)`;
                document.body.appendChild(car);
            }
        });
    </script>
    <button onclick="showPopup()">Manage Teams</button>
</body>
</html>
